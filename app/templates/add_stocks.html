{% extends 'base.html' %}

{% block javascript %}
<script src="{{url_for('static', filename='index.js')}}"></script>
{% endblock %}

{% block main %}
<div class="section">
    <div class="container">
        {% if ticker is defined and category is defined%}
        <article class="message is-success">
            <div class="message-header">
                <p>Success</p>
                <button class="delete" aria-label="delete"></button>
            </div>
            <div class="message-body">
                New Stock {{ticker}} added to {{category}}
            </div>
        </article>
        {% endif %}
        <form action="{{ url_for('add') }}" method="post">
            <div class="field">
                <label class="label">Stock Ticker</label>
                <div class="control">
                    <input class="input" name="ticker" type="text" placeholder="AAPL" required>
                </div>
            </div>

            <div class="field">
                <label class="label">Subject</label>
                <div class="control">
                    <div class="select">
                        <select name="category" required>
                            <option disabled value="">Select dropdown</option>
                            {% for category in categories %}
                            <option value={{category}}>{{ category | safe }}</option>
                            {% endfor %}
                            <option value="Other">Other</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="field">
                <label class="label">New category</label>
                <div class="control">
                    <input class="input" name="new-category" type="text"
                        placeholder="please select other in the above field">
                </div>
            </div>

            <div class="field is-grouped">
                <div class="control">
                    <button class="button is-link">Submit</button>
                </div>
            </div>
        </form>
    </div>
</div>
{% endblock %}